from .make_mai_requests import make_mai_request
import json
from ..constant.config_loader import mai_config

async def build_log(user_id, logid, time, ftime, ftime2, userdata):
    api = "UploadUserPlaylogApiMaimaiChn"
    data ={
    "userId": user_id,
    "userPlaylog": {
        "userId": 0,
        "orderId": 0,
        "playlogId": logid,
        "version": 1041000,
        "placeId": mai_config["placeId"],
        "placeName": mai_config["placeName"],
        "loginDate": time,
        "playDate": ftime2,
        "userPlayDate": ftime + ".0",
        "type": 0,
        "musicId": 0,
        "level": 0,
        "trackNo": 1,
        "vsMode": 0,
        "vsUserName": "",
        "vsStatus": 0,
        "vsUserRating": 0,
        "vsUserAchievement": 0,
        "vsUserGradeRank": 0,
        "vsRank": 0,
        "playerNum": 1,
        "playedUserId1": 0,
        "playedUserName1": "",
        "playedMusicLevel1": 0,
        "playedUserId2": 0,
        "playedUserName2": "",
        "playedMusicLevel2": 0,
        "playedUserId3": 0,
        "playedUserName3": "",
        "playedMusicLevel3": 0,
        "characterId1": 101,
        "characterLevel1": 9999,
        "characterAwakening1": 6,
        "characterId2": 101,
        "characterLevel2": 9999,
        "characterAwakening2": 6,
        "characterId3": 101,
        "characterLevel3": 9999,
        "characterAwakening3": 6,
        "characterId4": 101,
        "characterLevel4": 9999,
        "characterAwakening4": 6,
        "characterId5": 101,
        "characterLevel5": 9999,
        "characterAwakening5": 6,
        "achievement": 0,
        "deluxscore": 0,
        "scoreRank": 0,
        "maxCombo": 0,
        "totalCombo": 859,
        "maxSync": 0,
        "totalSync": 0,
        "tapCriticalPerfect": 0,
        "tapPerfect": 0,
        "tapGreat": 0,
        "tapGood": 0,
        "tapMiss": 484,
        "holdCriticalPerfect": 0,
        "holdPerfect": 0,
        "holdGreat": 0,
        "holdGood": 0,
        "holdMiss": 196,
        "slideCriticalPerfect": 0,
        "slidePerfect": 0,
        "slideGreat": 0,
        "slideGood": 0,
        "slideMiss": 114,
        "touchCriticalPerfect": 0,
        "touchPerfect": 0,
        "touchGreat": 0,
        "touchGood": 0,
        "touchMiss": 17,
        "breakCriticalPerfect": 0,
        "breakPerfect": 0,
        "breakGreat": 0,
        "breakGood": 0,
        "breakMiss": 48,
        "isTap": True,
        "isHold": True,
        "isSlide": True,
        "isTouch": True,
        "isBreak": True,
        "isCriticalDisp": True,
        "isFastLateDisp": True,
        "fastCount": 0,
        "lateCount": 0,
        "isAchieveNewRecord": False,
        "isDeluxscoreNewRecord": False,
        "comboStatus": 0,
        "syncStatus": 0,
        "isClear": False,
        "beforeRating": userdata.playerRating,
        "afterRating": userdata.playerRating,
        "beforeGrade": 0,
        "afterGrade": 0,
        "afterGradeRank": 0,
        "beforeDeluxRating": userdata.playerRating,
        "afterDeluxRating": userdata.playerRating,
        "isPlayTutorial": False,
        "isEventMode": False,
        "isFreedomMode": False,
        "playMode": 0,
        "isNewFree": False,
        "trialPlayAchievement": -1,
        "extNum1": 10000,
        "extNum2": 0,
        "extNum4": 105,
        "extBool1": False
    }
}
    return data
